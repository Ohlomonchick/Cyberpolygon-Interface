# ELK Stack 9.1.1 Configuration (Simplified without SSL)

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è ELK Stack (Elasticsearch, Logstash, Kibana) –≤–µ—Ä—Å–∏–∏ 9.1.1 –±–µ–∑ SSL, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ Cyberpolygon.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ ELK Stack

**–î–ª—è Windows:**
```bash
run_elk.bat
```

**–î–ª—è Linux/macOS:**
```bash
docker-compose up -d elasticsearch logstash kibana filebeat
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∑–∞–ø—É—Å–∫.

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cp ../env.example ../.env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å Elasticsearch
ELASTIC_PASSWORD=your_secure_password
```

### 3. –ó–∞–ø—É—Å–∫ ELK Stack

```bash
docker-compose up -d elasticsearch logstash kibana filebeat
```

## üìã –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Elasticsearch 9.1.1
- **–ü–æ—Ä—Ç**: 9200 (HTTP), 9300 (Transport)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `elasticsearch/elasticsearch.yml`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –û—Ç–∫–ª—é—á–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è (xpack.security.enabled=false)
  - –ë–µ–∑ SSL/TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–º—è—Ç–∏
  - Single-node –∫–ª–∞—Å—Ç–µ—Ä

### Logstash 9.1.1
- **–ü–æ—Ä—Ç—ã**: 5044 (Beats), 9600 (API)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `logstash/logstash.yml`
- **–ü–∞–π–ø–ª–∞–π–Ω—ã**:
  - `main.conf` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–æ–≥–æ–≤ –æ—Ç Filebeat

### Kibana 9.1.1
- **–ü–æ—Ä—Ç**: 5601
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `kibana/kibana.yml`
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - HTTP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Elasticsearch
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –û—Ç–∫–ª—é—á–µ–Ω–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è
  - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  - –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞

### Filebeat 9.1.1
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `filebeat/filebeat.yml`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –°–±–æ—Ä —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤
  - –°–±–æ—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Docker –∏ Kubernetes
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Logstash

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- SSL/TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ (xpack.security.enabled=false)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–∫–ª—é—á–∏—Ç—å SSL/TLS –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é!

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Elasticsearch
```bash
curl http://localhost:9200/_cluster/health
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Logstash
```bash
curl http://localhost:9600/_node/stats
```

### –î–æ—Å—Ç—É–ø –∫ Kibana
–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: http://localhost:5601

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–Ω–¥–µ–∫—Å—ã
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã:
- `logstash-YYYY.MM.dd` - –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Logstash
- `filebeat-YYYY.MM.dd` - –ª–æ–≥–∏ —á–µ—Ä–µ–∑ Filebeat

### –®–∞–±–ª–æ–Ω—ã –∏–Ω–¥–µ–∫—Å–æ–≤
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —à–∞–±–ª–æ–Ω—ã —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
- 1 —à–∞—Ä–¥
- 0 —Ä–µ–ø–ª–∏–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å SSL
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SSL –≤ —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é
1. –£–≤–µ–ª–∏—á—å—Ç–µ `ES_JAVA_OPTS` –≤ docker-compose.yml
2. –£–≤–µ–ª–∏—á—å—Ç–µ `LS_JAVA_OPTS` –¥–ª—è Logstash
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å –Ω–∞ —Ö–æ—Å—Ç–µ

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Docker
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `docker-compose logs [service_name]`

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º Kibana
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤–µ—Ä—Å–∏–∏ 9.1.1
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `kibana.yml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `logging.root.level` –≤–º–µ—Å—Ç–æ `logging.level`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Kibana 9.1.1

### –ü—Ä–æ–±–ª–µ–º—ã —Å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ Kibana
1. –í Kibana 9.1.1 –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `xpack.security.enabled` –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `kibana.defaultAppId` —Ç–∞–∫–∂–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤–µ—Ä—Å–∏–∏ 9.1.1
3. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `kibana.yml`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üìù –õ–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker-compose logs elasticsearch
docker-compose logs logstash
docker-compose logs kibana
docker-compose logs filebeat
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- Elasticsearch: INFO
- Logstash: INFO
- Kibana: INFO
- Filebeat: INFO

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π ELK Stack:
1. –°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø –¥–∞–Ω–Ω—ã—Ö Elasticsearch
2. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏–∏ –≤ docker-compose.yml
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Elasticsearch 9.1.1 Documentation](https://www.elastic.co/guide/en/elasticsearch/reference/9.1/index.html)
- [Logstash 9.1.1 Documentation](https://www.elastic.co/guide/en/logstash/9.1/index.html)
- [Kibana 9.1.1 Documentation](https://www.elastic.co/guide/en/kibana/9.1/index.html)
- [Filebeat 9.1.1 Documentation](https://www.elastic.co/guide/en/beats/filebeat/9.1/index.html)
